<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#111827" />
  <title>Level Up</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <header class="app-header">
    <div class="brand">
      <div class="logo">‚¨ÜÔ∏è</div>
      <div>
        <div class="title">LEVEL UP</div>
        <div class="subtitle" id="subtitle">Daily Run</div>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab active" data-view="today">Today</button>
      <button class="tab" data-view="base">Base</button>
      <button class="tab" data-view="arcade">Arcade</button>
      <button class="tab" data-view="scoreboard">Scoreboard</button>
      <button class="tab" data-view="settings">Settings</button>
    </nav>
  </header>

  <main class="container">

    <!-- TODAY -->
    <section class="view" id="view-today">

      <div class="panel">
        <div class="row">
          <div>
            <div class="h1">Today‚Äôs Run</div>
            <div class="muted" id="todayDate"></div>
          </div>
          <div class="stats">
            <div class="stat"><div class="label">Level</div><div class="value" id="levelVal">1</div></div>
            <div class="stat"><div class="label">XP</div><div class="value" id="xpVal">0</div></div>
            <div class="stat"><div class="label">Coins</div><div class="value" id="coinsVal">0</div></div>
          </div>
        </div>

        <div class="progress-wrap">
          <div class="muted small">Progress</div>
          <div class="progress"><div class="progress-bar" id="xpBar"></div></div>
          <div class="muted small" id="xpHint"></div>
        </div>
      </div>

      <div class="grid-2">

        <!-- QUESTS -->
        <div class="panel">
          <div class="h2">Quests</div>

          <div class="quest" data-quest="medsAM">
            <div><div class="qtitle">Meds (AM)</div></div>
            <button class="qbtn">Complete</button>
          </div>

          <div class="quest" data-quest="medsPM">
            <div><div class="qtitle">Meds (PM)</div></div>
            <button class="qbtn">Complete</button>
          </div>

          <div class="quest" data-quest="move1">
            <div><div class="qtitle">Movement 1</div></div>
            <button class="qbtn">Complete</button>
          </div>

          <div class="quest" data-quest="move2">
            <div><div class="qtitle">Movement 2</div></div>
            <button class="qbtn">Complete</button>
          </div>

          <div class="quest" data-quest="rest">
            <div><div class="qtitle">Intentional Rest</div></div>
            <button class="qbtn">Complete</button>
          </div>

          <div class="quest hyd" data-quest="water">
            <div>
              <div class="qtitle">Hydration</div>
              <div class="qsub"><span id="waterCount">0</span>/<span id="waterGoal">8</span> cups</div>
            </div>
            <div class="water-controls">
              <button class="mini" data-action="waterMinus">‚Äì</button>
              <button class="mini" data-action="waterPlus">+</button>
            </div>
          </div>
        </div>

        <!-- STREAKS + CHECK + SCORE -->
        <div class="panel">
          <div class="row">
            <div>
              <div class="h2">Streaks</div>
              <div class="muted small">Keep the run alive. Shields protect misses.</div>
            </div>
            <div class="muted small">üõ°Ô∏è <span id="shieldCount">0</span></div>
          </div>

          <div class="streak-grid">
            <div class="streak-pill"><span>üî• Daily</span><b id="stDaily">0</b></div>
            <div class="streak-pill"><span>üß© Quests</span><b id="stQuests">0</b></div>
            <div class="streak-pill"><span>üíß Water</span><b id="stWater">0</b></div>
            <div class="streak-pill"><span>üß† Check</span><b id="stCheck">0</b></div>
          </div>

          <hr class="sep" />

          <div class="h2">Brain Check</div>
          <div class="check-grid">
            <select id="energy">
              <option>low</option>
              <option selected>ok</option>
              <option>good</option>
            </select>
            <select id="balance">
              <option>wobbly</option>
              <option selected>steady</option>
            </select>
            <select id="mind">
              <option>foggy</option>
              <option selected>clear</option>
            </select>
            <select id="mood">
              <option>irritable</option>
              <option selected>calm</option>
            </select>
          </div>
          <button class="primary mt" id="saveCheck">Save</button>

          <hr class="sep" />

          <div class="row">
            <div>
              <div class="h2">Daily Score</div>
              <div class="muted small" id="lastAction">Last action: ‚Äî</div>
            </div>
            <div class="big" id="dailyScore">0</div>
          </div>
        </div>

      </div>
    </section>

    <!-- BASE -->
    <section class="view hidden" id="view-base">
      <div class="panel"><div class="h1">Your Base</div></div>
      <div class="grid-3" id="baseGrid"></div>
    </section>

    <!-- ARCADE -->
    <section class="view hidden" id="view-arcade">
      <div class="panel">
        <div class="h1">Arcade</div>
        <div class="muted">Spins + reaction tests</div>
      </div>

      <div class="grid-2">
        <div class="panel">
          <div class="h2">Prize Wheel</div>
          <div class="wheel-wrap"><div class="wheel" id="wheel">üé°</div></div>
          <button class="primary mt" id="spinBtn">Spin</button>
          <div class="muted mt" id="spinResult"></div>
        </div>

        <div class="panel">
          <div class="h2">Reaction Test</div>
          <div class="rt-box" id="rtBox"><div id="rtState">Press Start</div></div>
          <button class="primary mt" id="rtStart">Start</button>
        </div>
      </div>
    </section>

    <!-- SCOREBOARD -->
    <section class="view hidden" id="view-scoreboard">
      <div class="panel"><div class="h1">Scoreboard</div></div>
      <div class="panel" id="chart7"></div>
    </section>

    <!-- SETTINGS -->
    <section class="view hidden" id="view-settings">
      <div class="panel">
        <div class="h1">Settings</div>
        <label>Hydration Goal <input id="waterGoalInput" type="number" value="8"/></label>
        <button class="primary mt" id="saveSettings">Save</button>
      </div>
    </section>

  </main>

  <div id="toast" class="toast hidden"></div>

  <script src="app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js");
    }
  </script>

</body>
</html>
